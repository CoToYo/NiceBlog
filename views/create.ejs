<!DOCTYPE html>
<html lang="en">
    <%- include('./layouts/head.ejs') %>
    
    <body>

        <%- include('./layouts/nav.ejs') %>  
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('/img/contact-bg.jpg')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="page-heading">
                            <h1>New Post</h1>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="container">
            <div class="row">
                <div class="col-md-8 offset-md-2">
                    
                    <% if(errors.length > 0){ %>
                        <ul class="list-group"></ul>
                        <% errors.forEach(err => { %>
                            <li class="list-group-item text-danger"><%= err %></li>
                        <% }) %>
                        </ul>
                    <% } %>

                    <!-- enctype="multipart/form-data" means we are gonna have multimedia file in this form, so it should be encrypt. -->
                    <form action="/posts/store" method="POST" enctype="multipart/form-data">

                        <div class="form-floating">
                            <input type="text" placeholder="Title" name="title" value="<%= lastInput.title || '' %>" class="form-control">
                            <label>Title</label>
                        </div>

                        <div class="form-floating">
                            <input type="text" placeholder="Subtitle" name="subtitle" value="<%= lastInput.subtitle || '' %>" class="form-control">
                            <label>Subtitle</label>
                        </div>

                        <div class="form-floating">
                            <textarea id="content" class="form-control" placeholder="Content" name="content" value="<%= lastInput.content || '' %>" style="height: 12rem" rows="10"></textarea>
                            <label>Content</label>
                        </div>

                        <div class="form-group mt-5">
                            <input type="file" name="image" class="form-control-file">
                        </div>

                        <div class="my-4 text-center">
                            <button class="btn btn-primary" id="" type="">CREATE POST</button>
                        </div>
                        
                    </form>
                </div>
            </div>
        </div>

        <%- include('./layouts/footer.ejs') %>  

    </body>
    
        
</html>
